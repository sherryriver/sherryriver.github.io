<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>架构实战案例解析读书笔记 | Sherryriver - 止不住的音符~</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="lingo,sheryriver,Hexo主题,木木三可" />
  

  <meta name="description" content="前提架构的本质： 通过合理的内部编排，保证系统高度有序，能够不断扩展，满足业务和技术的变化 一个好的架构设计既要满足业务的可扩展、可复用；也要满足系统的高可用、高性能和可伸缩，并尽量采用低成本的方式落地。所以，对架构设计来说，技术和业务两手都要抓，两手都要硬。 什么是好的架构师？  必定是一个出色的程序员，写的一手好代码 技术广度和深度 思维高度，具备抽象思维能力 思维深度，透过问题看本质 良好沟">
<meta property="og:type" content="article">
<meta property="og:title" content="架构实战案例解析读书笔记">
<meta property="og:url" content="http://sherryriver.github.io/2020/06/08/%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Sherryriver - 止不住的音符~">
<meta property="og:description" content="前提架构的本质： 通过合理的内部编排，保证系统高度有序，能够不断扩展，满足业务和技术的变化 一个好的架构设计既要满足业务的可扩展、可复用；也要满足系统的高可用、高性能和可伸缩，并尽量采用低成本的方式落地。所以，对架构设计来说，技术和业务两手都要抓，两手都要硬。 什么是好的架构师？  必定是一个出色的程序员，写的一手好代码 技术广度和深度 思维高度，具备抽象思维能力 思维深度，透过问题看本质 良好沟">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-06-08T07:51:50.000Z">
<meta property="article:modified_time" content="2020-12-28T11:05:34.282Z">
<meta property="article:author" content="sherryriver">
<meta name="twitter:card" content="summary">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link href="/css/styles.css?v=028c63b1" rel="stylesheet">


  
    
<link rel="stylesheet" href="/css/toolbox.css">

  

  

  

  
  <!--文章浏览信息记录-->
  
     <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
   
<meta name="generator" content="Hexo 5.2.0"></head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">导航</span>
  

  <div class="post-header LEFT">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">导航</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox" style="display:block">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/time"
            target="_self"
            >
            时间轴
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E6%8F%90"><span class="toc-text">前提</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E6%9E%B6%E6%9E%84"><span class="toc-text">业务架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E6%89%A9%E5%B1%95%E6%9E%B6%E6%9E%84"><span class="toc-text">可扩展架构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%A4%8D%E7%94%A8%E6%9E%B6%E6%9E%84"><span class="toc-text">可复用架构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84"><span class="toc-text">技术架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84"><span class="toc-text">高可用架构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E6%80%A7%E8%83%BD%E5%8F%AF%E4%BC%B8%E7%BC%A9%E6%9E%B6%E6%9E%84"><span class="toc-text">高性能可伸缩架构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol>
  </div>



<div class="content content-post LEFT">
   <article id="post-架构实战案例解析读书笔记" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">架构实战案例解析读书笔记</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2020.06.08</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>sherryriver</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
  </span>



      
	  
	  <! -- 文章浏览记录 -->
	  
       <i class="fa fa-eye"></i> 
         <span id="busuanzi_container_page_pv">
            &nbsppv:<span id="busuanzi_value_page_pv">
            <i class="fa fa-spinner fa-spin"></i></span>
         </span>
       

    </div>
  </header>

  <div class="article-content">
    
      <h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><p>架构的本质：</p>
<p>通过合理的内部编排，保证系统高度有序，能够不断扩展，满足业务和技术的变化</p>
<p>一个好的架构设计既要满足业务的可扩展、可复用；也要满足系统的高可用、高性能<br>和可伸缩，并尽量采用低成本的方式落地。所以，对架构设计来说，技术和业务两手都要<br>抓，两手都要硬。</p>
<p>什么是好的架构师？</p>
<ul>
<li>必定是一个出色的程序员，写的一手好代码</li>
<li>技术广度和深度</li>
<li>思维高度，具备抽象思维能力</li>
<li>思维深度，透过问题看本质</li>
<li>良好沟通能力</li>
<li>平衡取舍能力</li>
</ul>
<h2 id="业务架构"><a href="#业务架构" class="headerlink" title="业务架构"></a>业务架构</h2><p>业务架构目标：</p>
<p>可扩展和可复用</p>
<h3 id="可扩展架构"><a href="#可扩展架构" class="headerlink" title="可扩展架构"></a><strong>可扩展架构</strong></h3><p>何为系统？即 模块 + 关系</p>
<p>如何打造可扩展架构</p>
<p>通过构建合理的模块体系，有效的控制系统复杂度，最小化业务变化引起的系统跳转</p>
<p>具体方法有通过拆分，实现模块划分；通过整合，优化模块依赖关系</p>
<p>案例一电商平台的架构演化</p>
<p>单体架构-&gt;分布式-&gt;soa-&gt;微服务-&gt;中台</p>
<h3 id="可复用架构"><a href="#可复用架构" class="headerlink" title="可复用架构"></a><strong>可复用架构</strong></h3><p>分为技术复用、业务复用</p>
<p>技术复用：</p>
<p>代码复用有自己打包的类库，第三方提供的 SDK，还有各种算法封装等</p>
<p>复用有我们自己封装的，更多的是大量开源的中间件比如MQ、redis</p>
<p>业务复用：</p>
<p>业务实体复用、业务流程复用和产品复用</p>
<p>具体方法有先划分基础服务边界，三个原则</p>
<p>完整性原则、一致性原则、正交原则</p>
<p>案例一如何设计一个基础服务</p>
<p>案例二如何对现有系统做微服务改造</p>
<p>案例三中台如何练成</p>
<h2 id="技术架构"><a href="#技术架构" class="headerlink" title="技术架构"></a>技术架构</h2><p>系统的物理模型图5大类</p>
<ul>
<li>接入系统：主要包括DNS域名解析、负载均衡、web服务器</li>
<li>应用系统：java服务框架比如spring</li>
<li>基础平台：jvm、操作系统、网络等</li>
<li>核心组件：数据库、缓存、rpc等</li>
<li>支撑系统：运维系统比如监控、日志等</li>
</ul>
<p>技术架构的目标：</p>
<p>解决系统非功能性问题，系统的高可用高性能和低成本等；</p>
<h3 id="高可用架构"><a href="#高可用架构" class="headerlink" title="高可用架构"></a><strong>高可用架构</strong></h3><p>系统的故障的解决思路</p>
<p>避免发生：我们可以通过不间断电源来避免服务器断电，可以通过事先增加机器来解决硬件资源不足的问题。</p>
<p>故障转移：冗余部署代替问题节点。</p>
<p>降低影响：流量太大，我们可以通过限流，或者通过业务降级的手段，关闭一些次要功能，保证核心功能仍旧可用。</p>
<p>快速恢复：处理线上事故的首要原则是先尽快恢复业务，而不是先定位系统的问题。</p>
<p>高可用架构原则：</p>
<p><strong>冗余无单点</strong></p>
<p><strong>水平扩展</strong></p>
<p><strong>柔性事务</strong>：在很多业务场景中，系统的可用性比数据的实时一致性更重要</p>
<p><strong>系统可降级</strong>：限流 降级 功能禁用 熔断</p>
<p><strong>系统可监控</strong></p>
<p>高可用手段：</p>
<p>客户端 -&gt; 接入层</p>
<p>首先要解决网络的可用性问题，可以选择 Nginx、HAProxy、LVS 等负载均衡软件，它们都能很好地支持双节点 +Keepalived 部署（<strong>通过冗余和自动切换避免了单点的故障</strong>）</p>
<p>接入层 -&gt;Web 应用</p>
<p>部署多个实例，很方便地通过水平扩展的方式，提升系统的处理能力，接入层的负载均衡设备，还可以在接入层做限流（<strong>水平扩展、自动故障转移以及系统的可降级</strong>）</p>
<p>Web 应用 -&gt; 内部服务</p>
<p>部署多个实例进行水平扩展，请求分发，熔断框架</p>
<p>访问基础资源</p>
<p>关系数据库读写分离，分库分表，使用缓存等</p>
<p>案例一o2o平台24小时在线</p>
<p>案例二如何第一时间知道系统哪里有问题</p>
<p>案例三打造一体化监控</p>
<h3 id="高性能可伸缩架构"><a href="#高性能可伸缩架构" class="headerlink" title="高性能可伸缩架构"></a><strong>高性能可伸缩架构</strong></h3><p>高性能策略</p>
<p>优化单个请求处理速度，请求处理异步化。</p>
<p>可伸缩策略</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>架构原则</p>
<ul>
<li>可回滚/可禁用</li>
<li>使用成熟的技术</li>
<li>使用同质化硬件</li>
</ul>

    
	
	<! -- 添加版权信息 -->
	
	<! -- 添加版权信息 -->
<br>
<hr>
<ul class="copyright">
	<li><span>本文标题：</span> <a href="/2020/06/08/架构实战案例解析读书笔记/" target="_blank" title="架构实战案例解析读书笔记">架构实战案例解析读书笔记</a></li>
	<li><span>文章作者：</span> <a href="/index.html" target="_blank" title="sherryriver">sherryriver（木木三可）</a></li>
	<li><span>发布时间：</span> 2020.06.08</li>
	<li><span>本文链接：</span> <a href="/2020/06/08/架构实战案例解析读书笔记/" target="_blank" title="架构实战案例解析读书笔记">http://sherryriver.github.io/2020/06/08/架构实战案例解析读书笔记/</a></li>
	<li><span>许可协议：</span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target="_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。</li>
</ul>

<style>
.copyright{
  max-width: 40em;
  margin: 1.2em auto 0;
  padding: 0.5em 1.8em;
  border: 1px solid #d3d3d3;
  font-size: 0.93rem;
  //line-height: 1.0em;
  word-break: break-all;
  background: rgba(255,255,255,0.4);
}
</style>
	
	
  </div>
</article>

</div>





  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/time"
              target="_self"
              >
              时间轴
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    
 
	
	
<!-- 集成有言评论-->
<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2147865"></script>
<!-- <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2147865"></script> -->

<!-- UY END -->


  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
